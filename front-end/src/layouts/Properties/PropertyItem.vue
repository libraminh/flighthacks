<template>
  <div
    data-theme="default"
    class="card card--property"
  >
    <div class="card__inner">
      <div class="card__header">
        <a
          :href="data.url"
          class="width-100% crop crop--fit crop--16:9"
        >
          <img
            :src="data.image"
            :alt="data.title"
            class="crop__content"
          >
        </a>
      </div>

      <div class="card__body">
        <div class="text-wrapper margin-bottom-md">
          <div :class="`property__status status--${data['funding-status']}`">
            <i />
            <span>{{ data.statusLabel }}</span>
            <el-tooltip
              class="margin-left-xxs"
              effect="dark"
              :content="data.tooltip"
              placement="bottom"
            >
              <svg
                width="12"
                height="12"
                viewBox="0 0 12 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              ><path
                d="M11.1956 2.98824C10.659 2.06903 9.9312 1.34122 9.01195 0.804696C8.09255 0.268195 7.08889 0 6.00021 0C4.91164 0 3.90767 0.268195 2.98843 0.804696C2.06914 1.34114 1.34133 2.06894 0.804778 2.98824C0.268195 3.90759 0 4.91155 0 6.00004C0 7.08859 0.268278 8.09238 0.804696 9.01179C1.34122 9.931 2.06903 10.6588 2.98832 11.1954C3.90767 11.7319 4.91155 12.0001 6.0001 12.0001C7.08864 12.0001 8.09263 11.7319 9.01193 11.1954C9.93117 10.659 10.6589 9.931 11.1954 9.01179C11.7319 8.09246 12 7.08853 12 6.00004C12.0001 4.91144 11.7319 3.90746 11.1956 2.98824ZM7.00028 9.75007C7.00028 9.82291 6.97669 9.88287 6.92987 9.92966C6.88325 9.97648 6.82329 9.99991 6.75045 9.99991H5.25027C5.17737 9.99991 5.11744 9.97648 5.07057 9.92966C5.02366 9.88284 5.00024 9.82291 5.00024 9.75007V8.24989C5.00024 8.17705 5.02364 8.11709 5.07057 8.0703C5.11744 8.02356 5.17737 8.00016 5.25027 8.00016H6.75045C6.82329 8.00016 6.88325 8.02356 6.92987 8.0703C6.97669 8.11712 7.00028 8.17705 7.00028 8.24989V9.75007ZM8.90258 5.13279C8.8374 5.32552 8.76455 5.48316 8.68383 5.60551C8.60313 5.72791 8.48716 5.85293 8.33606 5.98048C8.18528 6.10808 8.0654 6.19928 7.97663 6.25406C7.88825 6.30865 7.76051 6.38303 7.59403 6.47667C7.4221 6.57554 7.2803 6.7045 7.16838 6.86343C7.05638 7.02225 7.00039 7.15111 7.00039 7.24998C7.00039 7.32304 6.9768 7.38294 6.92996 7.42979C6.88325 7.47661 6.82332 7.5 6.75045 7.5H5.25035C5.17745 7.5 5.11752 7.47661 5.07065 7.42979C5.02372 7.38294 5.00038 7.32304 5.00038 7.24998V6.9687C5.00038 6.61976 5.13701 6.29278 5.41048 5.98819C5.68396 5.68347 5.98475 5.45821 6.31292 5.31236C6.56276 5.19781 6.73991 5.08058 6.84406 4.96081C6.94837 4.84104 7.00045 4.68202 7.00045 4.48421C7.00045 4.31228 6.9027 4.15866 6.70735 4.02315C6.512 3.88778 6.2895 3.82008 6.03942 3.82008C5.76851 3.82008 5.54462 3.88261 5.36749 4.00766C5.19557 4.13258 4.97167 4.37221 4.6956 4.72633C4.64872 4.78888 4.58359 4.82021 4.50024 4.82021C4.43774 4.82021 4.38824 4.80461 4.35182 4.77345L3.32063 3.99215C3.20086 3.89837 3.18004 3.78905 3.25808 3.66402C3.92483 2.55463 4.89095 1.99993 6.15654 1.99993C6.60977 1.99993 7.05255 2.10673 7.48482 2.32031C7.91706 2.53378 8.2778 2.8359 8.56696 3.22658C8.85576 3.61712 9.00054 4.04168 9.00054 4.50002C9.00016 4.72917 8.96749 4.94001 8.90258 5.13279Z"
                fill="#BABDC5"
              /></svg>
            </el-tooltip>
          </div>

          <p class="text-bold text-color-default">
            <a :href="data.url">{{ data.title }}</a>
          </p>
          <p
            clas="to-animate"
            data-animate="up"
          >
            {{ data.subtitle }}
          </p>
        </div>

        <div class="grid grid-gap-sm property__infoGrid margin-bottom-md">
          <div 
            v-for="(item, index) in data.info" 
            :key="index"
            class="col-4"
          >
            <div class="property__infoGrid--item">
              <div class="property__infoGrid--itemTitle">
                <span
                  class="text-xs font-weight-bold text-color-gray margin-right-xxs"
                  v-html="item.title"
                />
                <el-tooltip
                  effect="dark"
                  :content="item.tooltip"
                  placement="bottom"
                >
                  <svg
                    width="12"
                    height="12"
                    viewBox="0 0 12 12"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  ><path
                    d="M11.1956 2.98824C10.659 2.06903 9.9312 1.34122 9.01195 0.804696C8.09255 0.268195 7.08889 0 6.00021 0C4.91164 0 3.90767 0.268195 2.98843 0.804696C2.06914 1.34114 1.34133 2.06894 0.804778 2.98824C0.268195 3.90759 0 4.91155 0 6.00004C0 7.08859 0.268278 8.09238 0.804696 9.01179C1.34122 9.931 2.06903 10.6588 2.98832 11.1954C3.90767 11.7319 4.91155 12.0001 6.0001 12.0001C7.08864 12.0001 8.09263 11.7319 9.01193 11.1954C9.93117 10.659 10.6589 9.931 11.1954 9.01179C11.7319 8.09246 12 7.08853 12 6.00004C12.0001 4.91144 11.7319 3.90746 11.1956 2.98824ZM7.00028 9.75007C7.00028 9.82291 6.97669 9.88287 6.92987 9.92966C6.88325 9.97648 6.82329 9.99991 6.75045 9.99991H5.25027C5.17737 9.99991 5.11744 9.97648 5.07057 9.92966C5.02366 9.88284 5.00024 9.82291 5.00024 9.75007V8.24989C5.00024 8.17705 5.02364 8.11709 5.07057 8.0703C5.11744 8.02356 5.17737 8.00016 5.25027 8.00016H6.75045C6.82329 8.00016 6.88325 8.02356 6.92987 8.0703C6.97669 8.11712 7.00028 8.17705 7.00028 8.24989V9.75007ZM8.90258 5.13279C8.8374 5.32552 8.76455 5.48316 8.68383 5.60551C8.60313 5.72791 8.48716 5.85293 8.33606 5.98048C8.18528 6.10808 8.0654 6.19928 7.97663 6.25406C7.88825 6.30865 7.76051 6.38303 7.59403 6.47667C7.4221 6.57554 7.2803 6.7045 7.16838 6.86343C7.05638 7.02225 7.00039 7.15111 7.00039 7.24998C7.00039 7.32304 6.9768 7.38294 6.92996 7.42979C6.88325 7.47661 6.82332 7.5 6.75045 7.5H5.25035C5.17745 7.5 5.11752 7.47661 5.07065 7.42979C5.02372 7.38294 5.00038 7.32304 5.00038 7.24998V6.9687C5.00038 6.61976 5.13701 6.29278 5.41048 5.98819C5.68396 5.68347 5.98475 5.45821 6.31292 5.31236C6.56276 5.19781 6.73991 5.08058 6.84406 4.96081C6.94837 4.84104 7.00045 4.68202 7.00045 4.48421C7.00045 4.31228 6.9027 4.15866 6.70735 4.02315C6.512 3.88778 6.2895 3.82008 6.03942 3.82008C5.76851 3.82008 5.54462 3.88261 5.36749 4.00766C5.19557 4.13258 4.97167 4.37221 4.6956 4.72633C4.64872 4.78888 4.58359 4.82021 4.50024 4.82021C4.43774 4.82021 4.38824 4.80461 4.35182 4.77345L3.32063 3.99215C3.20086 3.89837 3.18004 3.78905 3.25808 3.66402C3.92483 2.55463 4.89095 1.99993 6.15654 1.99993C6.60977 1.99993 7.05255 2.10673 7.48482 2.32031C7.91706 2.53378 8.2778 2.8359 8.56696 3.22658C8.85576 3.61712 9.00054 4.04168 9.00054 4.50002C9.00016 4.72917 8.96749 4.94001 8.90258 5.13279Z"
                    fill="#BABDC5"
                  /></svg>
                </el-tooltip>
              </div>
              <p class="text-color-default text-md">
                {{ item.value }}
              </p>
            </div>
          </div>
        </div>

        <ul class="property__specs margin-bottom-default">
          <li
            v-for="(item, index) in data.specs"
            :key="index"
          >
            <div class="property__specsTitle">
              <span
                class="text-sm text-dim margin-right-xxxs"
                v-html="item.title"
              />
              <el-tooltip
                effect="dark"
                :content="item.tooltip"
                placement="bottom"
              >
                <svg
                  width="12"
                  height="12"
                  viewBox="0 0 12 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                ><path
                  d="M11.1956 2.98824C10.659 2.06903 9.9312 1.34122 9.01195 0.804696C8.09255 0.268195 7.08889 0 6.00021 0C4.91164 0 3.90767 0.268195 2.98843 0.804696C2.06914 1.34114 1.34133 2.06894 0.804778 2.98824C0.268195 3.90759 0 4.91155 0 6.00004C0 7.08859 0.268278 8.09238 0.804696 9.01179C1.34122 9.931 2.06903 10.6588 2.98832 11.1954C3.90767 11.7319 4.91155 12.0001 6.0001 12.0001C7.08864 12.0001 8.09263 11.7319 9.01193 11.1954C9.93117 10.659 10.6589 9.931 11.1954 9.01179C11.7319 8.09246 12 7.08853 12 6.00004C12.0001 4.91144 11.7319 3.90746 11.1956 2.98824ZM7.00028 9.75007C7.00028 9.82291 6.97669 9.88287 6.92987 9.92966C6.88325 9.97648 6.82329 9.99991 6.75045 9.99991H5.25027C5.17737 9.99991 5.11744 9.97648 5.07057 9.92966C5.02366 9.88284 5.00024 9.82291 5.00024 9.75007V8.24989C5.00024 8.17705 5.02364 8.11709 5.07057 8.0703C5.11744 8.02356 5.17737 8.00016 5.25027 8.00016H6.75045C6.82329 8.00016 6.88325 8.02356 6.92987 8.0703C6.97669 8.11712 7.00028 8.17705 7.00028 8.24989V9.75007ZM8.90258 5.13279C8.8374 5.32552 8.76455 5.48316 8.68383 5.60551C8.60313 5.72791 8.48716 5.85293 8.33606 5.98048C8.18528 6.10808 8.0654 6.19928 7.97663 6.25406C7.88825 6.30865 7.76051 6.38303 7.59403 6.47667C7.4221 6.57554 7.2803 6.7045 7.16838 6.86343C7.05638 7.02225 7.00039 7.15111 7.00039 7.24998C7.00039 7.32304 6.9768 7.38294 6.92996 7.42979C6.88325 7.47661 6.82332 7.5 6.75045 7.5H5.25035C5.17745 7.5 5.11752 7.47661 5.07065 7.42979C5.02372 7.38294 5.00038 7.32304 5.00038 7.24998V6.9687C5.00038 6.61976 5.13701 6.29278 5.41048 5.98819C5.68396 5.68347 5.98475 5.45821 6.31292 5.31236C6.56276 5.19781 6.73991 5.08058 6.84406 4.96081C6.94837 4.84104 7.00045 4.68202 7.00045 4.48421C7.00045 4.31228 6.9027 4.15866 6.70735 4.02315C6.512 3.88778 6.2895 3.82008 6.03942 3.82008C5.76851 3.82008 5.54462 3.88261 5.36749 4.00766C5.19557 4.13258 4.97167 4.37221 4.6956 4.72633C4.64872 4.78888 4.58359 4.82021 4.50024 4.82021C4.43774 4.82021 4.38824 4.80461 4.35182 4.77345L3.32063 3.99215C3.20086 3.89837 3.18004 3.78905 3.25808 3.66402C3.92483 2.55463 4.89095 1.99993 6.15654 1.99993C6.60977 1.99993 7.05255 2.10673 7.48482 2.32031C7.91706 2.53378 8.2778 2.8359 8.56696 3.22658C8.85576 3.61712 9.00054 4.04168 9.00054 4.50002C9.00016 4.72917 8.96749 4.94001 8.90258 5.13279Z"
                  fill="#BABDC5"
                /></svg>
              </el-tooltip>
            </div>

            <div class="property__specsValue">
              <span
                class="text-color-default"
                v-html="item.title"
              />
            </div>
          </li>
        </ul>

        <ul class="list-inline margin-bottom-default">
          <li
            v-for="(item, index) in data.tags"
            :key="index"
            class="badge badge--primary list-inline-item"
          >
            {{ item }}
          </li>
        </ul>

        <div 
          class="padding-default@md property__progress bg-default rounded" 
          :data-theme="$root.isMobile ? 'default' : 'gray'"
        >
          <el-progress
            :percentage="parseFloat(data.progress.percent)"
            :show-text="false"
            :stroke-width="8"
          />

          <div class="d-flex align-items-center justify-content-between text-sm margin-top-xs">
            <div
              v-for="(item, index) in data.progress.info"
              :key="index"
            >
              <span class="font-weight-bold text-color-default">{{ item.value }}</span>
              <span>{{ item.title }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
  export default {
    name: "PropertyItem",
    props: {
      data: {
        type: Object,
        default: () => {},
        required: true
      },
    },
  }
</script>

<style lang="scss" scoped>

</style>